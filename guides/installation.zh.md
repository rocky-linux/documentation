---
title: 安装Rocky Linux
---

# 安装 Rocky Linux

本指南介绍了在独立系统上安装 64 位 Rocky Linux 发行版的详细步骤。

在本指南中，将使用从 Rocky Linux 官方网站下载的ISO镜像，执行最小化安装。以下部分将介绍安装和自定义步骤。


## OS 安装前提

首先，您需要下载将要安装的 Rocky Linux ISO镜像。

用于此安装的 Rocky Linux版本的最新 ISO 映像可从以下位置下载：

```
https://www.rockylinux.org/download/
```

要直接从命令行下载 ISO，请使用 `wget` 命令：

```
$ wget -c https://download.rockylinux.org/pub/rocky/8/isos/x86_64/Rocky-8.4-x86_64-minimal.iso
```

Rocky Linux ISO 的命名遵循以下约定：

```
Rocky-<主版本号#>.<次版本号#>.<架构>-<变体>.iso
```

例如  `Rocky-8.4-x86_64-minimal.iso`

!!! note "笔记"
    Rocky Linux项目页面列出了世界各地的几个镜像。您应该尽可能地选择地理位置最接近的镜像。官方镜像列表可在 [这里](https://mirrors.rockylinux.org/mirrormanager/mirrors) 处找到。


## 验证安装 ISO

如果您已经在现有的 GNU/Linux 发行版上下载了 Rocky Linux ISO，那么可以使用 sha256sum 程序验证下载的文件是否损坏。接下来通过一个示例，演示如何验证 `Rocky-8.4-x86_64-minimal.iso `。

首先下载包含可用 ISO 的官方校验和的文件。如果您未下载，请输入以下命令：

```
wget -c http://download.rockylinux.org/pub/rocky/8.4/isos/x86_64/CHECKSUM
```

使用 sha256sum 程序验证

```
sha256sum -c CHECKSUM    --ignore-missing Rocky-8.4-x86_64-minimal.iso
```

输出应显示：

```
Rocky-8.4-x86_64-minimal.iso: OK
```

## 安装

!!! Tip "提示"
    在开始正确安装之前，系统的统一可扩展固件接口（UEFI）或基本输入/输出系统（BIOS）应配置为从正确的介质引导。

开始安装过程。

插入并从安装介质（光盘、USB闪存驱动器等）引导。

启动后，您将看到Rocky Linux的初始安装界面。

![Hardened Webserver](images/installation-F01.png)

如果您不按任何键，提示将开始倒计时，之后安装过程将自动执行默认的选项：

 `Test this media & install Rocky Linux 8 `

您还可以随时按 <kbd>Enter</kbd> 键立即启动安装。

将进行快速介质验证步骤。此介质验证步骤，可以省去您在中途安装发现安装程序因安装介质损坏或其他原因，导致中止安装的情况出现。

介质检查运行完成，并且介质被成功验证为可用后，安装程序将自动跳到下一个界面。

在界面中选择要用于执行安装的语言。此处选择 *中文*。然后单击<kbd>继续</kbd>按钮。

!!! note "笔记"
    截至2021/09/24，目前的Rocky Linux版本为8.4 GA，推荐在生产环境下使用，不推荐将版本固定在一个固定的版本

## 安装信息摘要

_安装信息摘要_  是一个集合多种设置的区域，您可以在其中做出有关要安装的操作系统的重要决定。

界面大致分为以下几部分：

  * _本地化_（键盘、语言支持以及时间和日期）
  * _软件_（安装源和软件选择）
  * _系统_（安装目的地以及网络和主机名）

接下来将深入研究其中的每一个部分，并在必要时进行更改。**这些都可以在安装操作系统成功后，在操作系统中更改。**


## 本地化部分
此部分用于自定义与系统区域设置相关的项目，其中包括键盘、语言支持、时间和日期。


### 键盘
在本指南的演示系统上，我们选择默认值 (_汉语_ )  ，不做其他更改。
如果需要在此处进行任何更改，请从 _安装信息摘要_  界面中单击 <kbd>键盘</kbd>，指定系统的键盘布局。如果需要，在后续界面中添加其他键盘布局并指定其顺序。完成后，单击<kbd>完成</kbd>。

### 语言支持
<kbd>语言支持</kbd>选项，您可以指定对其他语言的支持。
此处接受默认值（_中文 – 简体中文（中国）_），不做任何更改。单击<kbd>完成</kbd>。


### 时间和日期
 点击 <kbd>时间和日期</kbd> ，调出另一个界面，您可以通过该界面选择机器所在的时区。滚动区域和城市列表，选择离您最近的区域。

根据<kbd>安装源</kbd>，默认情况下可以将<kbd>网络时间</kbd>选项设置为 _打开_ 或 _关闭_。接受默认 _打开_ 设置；这允许系统使用网络时间协议(NTP)自动设置正确的时间。进行任何更改后，单击<kbd>完成</kbd>。

## 软件
您可以选择安装源以及要安装的其他软件包(应用程序)。

### 安装源
您会注意到，<kbd>安装源</kbd>部分下会自动指定本地介质。此处默认即可，单击 <kbd>完成</kbd>

### 软件选择

单击<kbd>软件选择</kbd>选项，将显示安装部分，从中可以选择系统上安装的软件包。基本环境包含服务器、最小安装、定制操作系统。

我们这里选择 _最小安装_。

单击界面顶部的<kbd>完成</kbd>。

## 系统
用于自定义和更改目标系统的底层硬件。在此处可以创建硬盘分区或LVM、指定要使用的文件系统，以及指定网络配置。

### 安装目的地

单击<kbd>安装目的地</kbd>选项。这会将您带到相应的任务区域。
您将看到一个界面，显示目标系统上可用的所有候选磁盘驱动器。如果系统上只有一个磁盘驱动器，如示例所示，您将看到在“本地标准磁盘”下列出的驱动器，旁边有一个复选标记。单击磁盘图标将打开或关闭磁盘选择复选标记。此处选择它。

在“存储配置”选项部分下，选择“自动”单选按钮。
然后单击界面顶部的<kbd>完成</kbd>。
安装程序确定有可用的磁盘后，将返回到“安装信息摘要”界面。


### 网络和主机名
安装过程的最后一项任务是网络配置，您可以在其中配置或调整系统的网络相关设置。

!!! note "笔记"
    单击<kbd>网络和主机名</kbd>选项后，所有正确检测到的网络接口硬件(如以太网、无线网卡等)都将列在网络配置界面的左窗格中。Linux 中的以太网设备的名称类似于`eth0`、`eth1`、`ens3`、`ens4`、`em1`、`em2`、`p1p1`、`enp0s3`等，具体取决于 Linux 发行版和特定的硬件设置。

对于每个接口，您可以使用 DHCP 或手动配置 IP 地址。如果您选择手动配置，请确保准备好所有相关信息，如 `IP 地址`、`网络掩码`、`网关`、`dns`。
单击<kbd>网络和主机名</kbd>按钮将打开相应的配置界面。此外，您还可以选择配置系统的主机名(默认为`localhost.localdomain`)。

!!! note "笔记"
    在安装操作系统之后，您可以很容易地更改此名称。现在此处主机名为默认值。

下一个重要的配置任务与系统上的网络接口相关。首先，验证左窗格中是否列出了以太网卡(或任何网卡)。单击左窗格中检测到的任何网络设备，将其选中，所选网络适配器的可配置属性将出现在界面的右窗格中。
确保要配置的设备在右窗格中处于 **打开 **位置

单击<kbd>完成</kbd>返回 _安装信息摘要_ 主界面。

!!! note "注意"
    在你的网络环境下，无法正常访问公网服务时，需首先检查网络环境，例如ip是否被占用、硬件防火墙的规则等。

## 用户设置

此部分可用于为 `root` 用户帐户创建密码，也可用于创建新的管理员或非管理员帐户。


### 设置 root账户密码

单击<kbd>根密码</kbd>，为 root 用户设置一个强密码。
此用户是系统中权限最高的帐户，UID=0。因此，如果您选择使用或启用它，请使用强密码保护该帐户。
在“确认”文本框中再次输入相同的密码。单击<kbd>完成</kbd>。


### 创建用户

接下来单击<kbd>用户创建</kbd>以启动创建用户任务界面。此界面允许您在系统上创建特权或非特权（非管理）用户帐户，`在系统上创建和使用非特权帐户执行日常任务是一种很好的系统管理实践`

将创建一个常规的普通用户，在需要时可以调用超级用户（管理员）权限。使用以下信息填写“创建用户”界面中的字段：

全名`rockstar`
用户名`rockstar`
`选中`将此用户设为管理员

`选中`需要密码才能使用此帐户

密码
`04302021`

确认密码
`04302021`

然后单击<kbd>完成</kbd>

### 开始安装

配置完成后，点击<kbd>开始安装</kbd>，将显示安装进度，各种任务将开始在后台运行，例如对磁盘进行分区、格式化分区或 LVM 卷、检查并解决软件依赖关系、将操作系统写入磁盘等。

!!! note "注意"
    如果您在单击<kbd>开始安装</kbd>按钮后遇到了问题，您仍然可以安全地退出安装，而不会丢失任何数据。要退出安装程序，只需单击<kbd>退出</kbd>按钮，按键盘上的 `ctrl-alt-del` 组合键或按下电源开关，即可重置您的系统。

### 完成安装
完成所有必需的子任务且安装程序运行完毕后，您将看到带有安装进度完毕的屏幕信息。

最后，单击<kbd>重启</kbd>按钮来完成整个过程，系统将重启。

### 登录
系统现在已设置完毕，您可以使用了。您将看到可爱的 Rocky Linux 命令行控制台。

![Rocky Linux Welcome Screen](images/installation-F04.png)

要登录到系统，请在登录提示处键入 `rockstar`，然后按 <kbd>enter</kbd> 键。

在密码提示处，键入 `04302021`（rockstar 的密码），然后按  <kbd>enter</kbd> 键。

在登录后运行 `whoami` 命令。

![Login Screen](images/installation-F06.png)
