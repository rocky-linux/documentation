---
Title: 安装 Rocky Linux 9
author: wale soyinka
contributors: Deng Wenbin,Steven Spencer
updated: 08-01-2022
---

#  安装 Rocky Linux 9

本指南介绍了在独立系统上安装 64 位 Rocky Linux 发行版的详细步骤。 我们将使用从Rocky Linux项目网站下载的ISO镜像文件执行服务器类安装。 我们将在以下部分逐步完成安装和自定义步骤。


## 操作系统安装的前置条件

首先，你需要下载用于安装Rocky Linux的ISO文件。

用于此安装的Rocky Linux版本的最新ISO镜像，可从以下位置下载：

```
https://www.rockylinux.org/download/
```

要直接从命令行下载 ISO，请使用 `wget` 命令：

```
wget https://download.rockylinux.org/pub/rocky/9.0/isos/x86_64/Rocky-9.0-x86_64-minimal.iso
```

Rocky Linux ISO 的命名遵循以下约定：

```
Rocky-<主版本号#>.<次版本号#>-<架构>-<变体>.iso
```

例如 `Rocky-9.0-x86_64-minimal.iso`

!!! Note“说明”

    Rocky Linux项目网页列出了世界各地的几个镜像网站。 只要有可能，您应该选择地理位置上离您最近的镜像。 官方镜像列表可在 [这里](https://mirrors.rockylinux.org/mirrormanager/mirrors) 找到。

## 验证安装的 ISO 文件

如果您已经在现有的 GNU/Linux 发行版上下载了 Rocky Linux ISO，那么可以使用 sha256sum 程序验证下载的文件没有损坏。 接下来通过一个示例，演示如何验证`Rocky-9.0-x86_64-minimal.iso` 。

首先下载包含可用于 ISO 的官方校验和的文件。 在包含已下载的Rocky Linux ISO的文件夹中，下载ISO的校验和文件时，键入：

```
wget https://download.rockylinux.org/pub/rocky/9.0/isos/x86_64/CHECKSUM
```

使用 `sha256sum` 工具来验证ISO文件的完整性，防止损坏或者被篡改。

```
sha256sum -c CHECKSUM --ignore-missing
```

这将检查先前下载的ISO文件的完整性，前提是该文件位于同一目录中。 输出应显示：

```
Rocky-9.0-x86_64-minimal.iso: OK
```

## 安装

!!! Tip "提示"

    在开始正确安装之前，系统的统一可扩展固件接口（UEFI）或基本输入/输出系统（BIOS）应配置为从正确的介质引导。

如果将计算机设置为从包含ISO文件的介质启动，则可以开始安装过程。

插入并从安装介质（光盘、USB闪存驱动器等）引导。

启动后，您将看到Rocky Linux 9 的初始安装界面。

![Rocky Linux 9  installation splash screen](images/installation_9.0_F01.png)

如果您不按任何键，提示将开始倒计时，之后安装过程将自动执行默认的突出显示选项：

`Test this media & install Rocky Linux 9`

您还可以随时按 ` Enter `键立即启动该过程。

将执行快速介质验证步骤。 此介质验证步骤，可以避免您在中途安装发现安装程序因安装介质损坏导致中止安装的情况出现。

介质检查运行完成，并且介质被成功验证为可用后，安装程序将自动跳到下一个界面。

在界面中选择要用于执行安装的语言。 在本指南中，我们选择_English (United States)_。 然后单击`Continue`按钮。

## 安装信息摘要

*安装信息摘要* 是一个集合多种设置的区域，您可以在其中对要安装的操作系统做出重要决定。

界面大致分为以下几部分：

- *本地化*： (键盘、语言支持以及时间和日期)
- *软件*： (安装源和软件选择)
- *系统*： (安装目标、KDUMP、网络 & 主机名和安全配置)
- *用户设置*： (Root 账户密码和用户创建)

接下来我们将深入研究这些部分，并在必要时进行更改。

### 本地化部分

此部分用于自定义与系统区域设置相关的项目。 包括—— 键盘、语言支持、时间和日期。

#### 键盘

在本指南的演示系统上，我们选择默认值 (*English US*) ，不做其他更改。

但是，如果需要在此处进行任何更改，请从 *安装信息摘要* 界面中单击 `键盘`选项指定系统的键盘布局。 如果需要，可以在后续界面中添加其他键盘布局并指定其顺序。

这个界面的操作完成后，单击 `执行` 。

#### 语言支持

在安装配置信息界面，这个`语言支持`选项，可以指定对其它语言的支持。

我们将接受默认值- **英语 (美国)** ，不做任何更改。单击`执行`。

#### 时间 & 日期

 在*安装信息摘要* 界面，点击 <kbd>时间 & 日期</kbd>，调出另一个界面，您可以通过该界面选择机器所在的时区。 滚动区域和城市列表，选择离您最近的区域。

根据您的安装源，默认情况下可以将 *Network Time* 选项设置为 *ON* 或 *OFF*。 接受默认 *ON* 设置；这允许系统使用网络时间协议 (NTP) 自动设置正确的时间。

 进行任何更改后单击<kbd>执行</kbd>。

### 软件部分

在*安装摘要*界面的*软件*部分，你可以选择安装源以及被安装的额外软件包（应用程序）。

#### 安装源

由于我们使用Rocky Linux 9 ISO镜像进行安装，你会注意到在*安装摘要*界面的*安装源*部分自动指定了*本地介质*。我们将接受预设的默认值。

!!! Tip "提示"

    在安装源区域，你可以选择执行基于网络的安装（例如，如果你使用Rocky Linux启动ISO - Rocky-9.0-x86_64-boot.iso）。对于基于网络的安装，你需要首先确保目标系统上的网络适配器是正确配置的，并且能够到达互联网。 要执行基于网络的安装，点击 "安装源"，然后选择 "网络上 "单选按钮。一旦选择，选择 "https "作为协议，并在文本字段 "download.rockylinux.org/pub/rocky/9/BaseOS/x86_64/os "中输入以下URL。  点击 "完成"。

#### 软件选择

在*安装摘要*主界面上，点击<kbd>软件选择</kbd>选项，您就可以看到安装的部分，在这里您可以选择确切的软件包安装到系统上。软件选择区域被划分为:

- **基础环境**: 最小化安装和自定义操作系统
- **选定环境的附加软件** 。在左边选择一个基本环境，在右边就会出现各种相关的附加软件，可以为给定的环境安装。请注意，这只适用于你从完整的Rocky Linux 9 DVD中安装，或者你已经配置了额外的软件库。

选择*最小安装*（基本功能）选项。

单击屏幕顶部的<kbd>完成</kbd>。

### 系统部分

*安装摘要* 界面的系统部分，是用来定制和修改，与目标系统的底层硬件有关的东西。在这里，你可以创建你的硬盘分区或卷，指定要使用的文件系统，指定网络配置，启用/禁用KDUMP，或选择安全配置文件。

#### 安装目的地

在 *安装信息摘要* 界面上，点击 <kbd>安装目的地</kbd> 选项。 这会将您带到相应的任务区域。

您将看到一个界面，显示目标系统上可用的所有候选磁盘驱动器。 如果系统上只有一个磁盘驱动器，如示例所示，您将看到在 *本地标准磁盘* 下列出的驱动器，在它旁边有一个复选标记。 单击磁盘图标将打开或关闭磁盘选择复选标记。 我们在这里选择/勾选它。

在 *存储配置* 选项部分下，选择<kbd>自动</kbd>单选按钮。

然后单击界面顶部的<kbd>执行</kbd>。

安装程序确定有可用的磁盘后，将返回到 *安装信息摘要* 界面。

### 网络 & 主机名

安装过程的最后一项任务是网络配置，您可以在其中配置或调整系统的网络相关设置。

!!! Note "说明"

    单击 [网络和主机名] 选项后，所有正确检测到的网络接口硬件(如以太网、无线网卡等)都将列在网络配置界面的左窗格中。 Linux 中以太网设备的名称类似于`eth0`、`eth1`、`ens3`、`ens4`、`em1`、`em2`、`p1p1`、`enp0s3`等，具体取决于 Linux 发行版和特定的硬件设置。

对于每个接口，您可以使用DHCP进行配置，也可以手动设置IP地址。如果选择手动配置，请确保准备好所有相关信息，例如  IP地址、子网掩码等。

单击主*安装摘要*屏幕中的<kbd>网络和主机名</kbd>按钮，打开相应的配置屏幕。除其他外，您可以选择配置系统的主机名（名称默认为“localhost.localdomain”）。

!!! Note "说明"

    在安装操作系统之后，您可以很容易地更改此名称。 现在此处主机名为默认值。

下一个重要的配置任务与系统中的网络接口有关。首先，验证以太网卡（或任何网卡）是否列在左窗格中。点击左侧窗格中任何一个检测到的网络设备来选择它。所选网络适配器的可配置属性将出现在屏幕的右窗格中。

!!! Note "说明"

    在我们的示例系统中，我们有两个以太网设备（`ens3`和`ens4`），它们都处于连接状态。 您系统上的网络设备的类型、名称、数量和状态可能与示例系统上的不同。

确保要配置设备的开关在右窗格中，处于 `ON` 位置。 我们将接受这一部分的所有默认值。

单击<kbd>执行</kbd>执行返回 *安装摘要信息* 主界面。

!!! Warning "警告"

    注意此安装程序此部分服务器的 IP 地址。 如果您无法对系统进行物理或轻松的控制台访问，当您需要连接到服务器以继续使用它时，这些信息将在以后派上用场。

### 用户设置部分

此部分可用于为 `root` 用户帐户创建密码，也可用于创建新的管理员或非管理员帐户。

#### Root 密码

单击 *用户设置*  下面的_Root 密码_ ，启动_Root 密码_任务界面。

!!! Warning "警告"

    root超级用户是系统中具有最高特权的帐户。 因此，如果您选择使用或启用它，使用强密码保护此帐户就显得非常重要。

 在 *Root 密码* 文本框中，为root用户设置一个强大的密码。

在 *确认* 文本框中再次输入相同的密码。

 点击<kbd>执行</kbd>.


#### 用户创建

接下来点击*用户设置*下的*用户创建*字段，启动*创建用户*任务界面。这个任务区允许你在系统上创建一个特权或非特权（非管理员）用户账户。

!!! Info "资料"

    创建并使用一个非特权账户来完成系统的日常工作，是一种良好的系统管理实践。

我们将创建一个常规的普通用户，在需要时可以调用超级用户（管理员）权限。

用以下信息填写 *创建用户* 屏幕中的字段，然后单击<kbd>执行</kbd>.：

*全名*:
`rockstar`

*用户名*:
`rockstar`

*使该用户成为管理员*:
选中

*使用该账户必须设置密码*:
选中

*密码*:
`04302021`

*确认密码*:
`04302021`


点击<kbd>执行</kbd>.

## 安装程序执行阶段

一旦你对各种安装任务的选择感到满意，安装过程的下一个阶段将开始正式安装。


### 安装程序开始

一旦您对各种安装任务的选择感到满意，请点击*安装摘要*屏幕上的<kbd>开始安装</kbd>按钮。

安装将开始，并且安装程序将显示安装的进度。当安装开始时，各种任务将开始在后台运行，比如对磁盘进行分区，格式化分区或LVM卷，检查并解决软件的依赖性，将操作系统写入磁盘等等。

!!! Note "说明"

    如果你在点击【开始安装】按钮后不想继续，你仍然可以安全地退出安装，而不会有任何数据损失。要退出安装程序，只需通过点击【退出】按钮、按键盘上的ctrl-alt-del、或按下复位或电源开关来重置系统。

### 安装程序完成

在安装程序运行完毕后，你将看到一个带有完整信息的最后安装进度屏幕。

最后，通过点击<kbd>重新启动系统</kbd>按钮完成整个程序。系统将重新启动。

### 登录

该系统现在已经设置好且可以使用了。 您将看到Rocky Linux控制台。

![Rocky Linux Welcome Screen](images/installation_9.0_F02.png)

要登录到系统，请在登录提示处键入 `rockstar`，然后按 <kbd>回车</kbd>键。

在密码提示处，键入 `04302021`(用户名rockstar 的密码)，然后按 Enter 键(密码将 ***不会*** 显示在屏幕上，这是正常的）。

登录后运行`whoami`命令，该命令显示当前登录用户的名称。

![Login Screen](images/installation_9.0_F03.png)