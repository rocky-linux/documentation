---
Title: 安装 Rocky Linux 9
author: Wale Soyinka
contributors: Steven Spencer
updated: 2023-06-13
---

# 安装 Rocky Linux 9

这是一个详细的指南，用于在一个独立的系统上安装64位的Linux发行版。 我们将执行服务器系列安装。 我们将在以下章节中，逐步介绍安装和定制步骤。

## 操作系统安装前提

下载 ISO 以用于此安装Rocky Linux<br/> 您可以在这里下载最新的 ISO 镜像，用于此安装的 Rocky Linux 版本：

```
https://www.rockylinux.org/download/
```

若要直接从一个现有的Linux系统的命令行下载ISO ，请使用 `wget` 命令：

```
wget https://download.rockylinux.org/pub/rocky/9.0/isos/x86_64/Rocky-9.0-x86_64-minimal.iso
```

Rocky Linux ISOs 遵循这个命名协议：

```
Rocky-<主版本号#>.<次版本号#>-<架构>-<变体>.iso
```

例如 `Rocky-9.0-x86_64-minimal.iso`

!!! Note "说明"

    Rocky Linux项目网页列出了世界各地的几个镜像网站。 只要有可能，您应该选择地理位置上离您最近的镜像。 官方镜像列表可在 [这里](https://mirrors.rockylinux.org/mirrormanager/mirrors) 找到。

## 验证安装程序 ISO 文件

如果您已经在现有的 GNU/Linux 发行版上下载了 Rocky Linux ISO，那么可以使用 sha256sum 程序验证下载的文件没有损坏。 接下来通过一个示例，演示如何验证 `Rocky-9.0-x86_64-minimal.iso`。

1. 下载包含可用ISO的正式校验和的文件。

1. 当仍然在包含下载的 Rocky Linux ISO的文件夹中时，下载ISO的校验和文件类型：

    ```
    wget https://download.rockylinux.org/pub/rocky/9.0/isos/x86_64/CHECKSUM
    ```

1. 使用 `sha256sum` 工具来验证ISO文件的完整性以防止损坏或篡改。

    ```
    sha256sum -c CHECKSUM --ignore-missing
    ```

    这会检查先前下载的 ISO 文件的完整性，只要它在同一个目录中。 输出应显示：

    ```
    Rocky-9.1-x86_64-minimal.iso: OK
    ```

## 安装

!!! Tip "提示"

    在开始正确安装之前，系统的统一可扩展固件接口（UEFI）或基本输入/输出系统（BIOS）应配置为从正确的介质引导。

如果将计算机设置为从包含ISO文件的介质启动，则可以开始安装过程。

1. 插入并从安装介质（光盘、USB闪存驱动器等）引导。

1. 一旦计算机启动，您就会看到Rocky Linux 9欢迎启动屏幕。

    ![Rocky Linux安装启动界面](images/installation_9.2_F01.png)

1. 如果您不按下任何键，安装程序将启动倒计时，安装过程将自动执行默认值、高亮选项：

    `测试这个媒介；安装 Rocky Linux 9`

    您还可以随时按 <kbd>Enter</kbd> 键立即启动该过程。

1. 已经采取了一个快速媒体核查步骤。  
   这个媒体验证步骤可以为您节省启动安装的麻烦，只是为了找到中途的安装程序因为安装介质不好而必须停止。

1. 当媒体检查运行到完成且媒体成功验证可以使用后，安装程序自动继续到下一个屏幕。

1. 在界面中选择要用于执行安装的语言。 在本指南中，我们选择*English (United States)*。 然后单击<kbd>Continue</kbd>按钮。

## 安装信息摘要

_安装摘要_ 屏幕是一个包含多种设置的区域，在那里您对要安装的系统做出重要决定。

界面大致分为以下几部分：

- *本地化*
- *软件*
- *系统*
- *用户设置相关*

接下来我们将深入研究这些部分，并在必要时进行修改。

### 本地化部分

此部分用于自定义与系统区域设置相关的项目。 包括 — 键盘、语言支持、时间和日期。

#### 键盘

在本指南的演示系统上，我们选择默认值 (*English US*) ，不做其他更改。

但是，如果需要在此处进行任何更改，请从 *Installation Summary* 界面中单击 <kbd>Keyboard</kbd> 选项指定系统的键盘布局。 使用 <kbd>+</kbd> 按钮， 如果您需要在随后的屏幕上添加额外的键盘布局，甚至可以指定您的首选顺序。

完成后，单击 <kbd>Done</kbd> 。

#### 语言支持

_安装摘要_ 屏幕上的 <kbd>语言支持</kbd> 选项使您能够指定您可能需要的额外语言的支持。

我们将接受默认值 - __英语(美国)__ 并且不做任何改动，点击 <kbd>完成</kbd>

#### 时间 & 日期

点击主目录上的 <kbd>时间和日期</kbd> 选项 *安装摘要* 屏幕显示另一个屏幕，允许您选择机器所在的时区。 滚动区域和城市列表，选择离您最近的区域。

根据您的安装源，默认情况下可以将 *网络时间* 选项设置为 *ON* 或 *OFF*。 接受默认 *ON* 设置；这允许系统使用网络时间协议 (NTP) 自动设置正确的时间。

进行任何更改后，请单击<kbd>Done</kbd>。

### 软件部分

在 *安装信息摘要* 界面的 *软件/em> 部分，您可以选择安装源以及要安装的其他软件包(应用程序)。</p>

#### 安装源

因为安装使用 Rocky Linux 9 ISO 镜像， 您会注意到 *本地媒体* 在主 *安装摘要* 屏幕下的安装源部分自动指定. 您可以接受预设。

!!! Tip "提示"

    安装源区域是您可以选择执行基于网络的安装的地方 (例如，如果您正在使用 Rocky Linux 启动ISO - Rocky-9)。 -x86_64-boot.iso)。 对于基于网络的安装，首先需要确保目标系统上的网络适配器配置正确，并且能够访问internet。  要执行基于网络的安装，请单击`Installation Source`，然后选择`On the network`单选按钮。 选择后，选择`https`作为协议，并在文本字段中键入以下URL `download.rockylinux.org/pub/rocky/9/BaseOS/x86_64/os`，   单击`Done`。

#### 软件部分

点击主 *安装摘要上的 <kbd>软件选择</kbd> 选项* 屏幕为您展示了安装部分，在这里您可以选择安装在系统上的确切软件包。 软件选择区域被划分为：

- __基础环境__ : 最小安装和自定义操作系统
- __用于选定环境的附加软件__ : 在左侧选择一个基础环境提供了各种相关的附加软件，可以在右侧为特定环境安装。 请注意，这仅适用于您正在从完整的 Rocky Linux 9.2 DVD 安装，或者您已经配置了额外的仓库。

选择 _最小安装_ (基本功能) 选项。

单击界面顶部的<kbd>Done</kbd>。

### 系统部分

_安装摘要_ 屏幕的系统部分用于定制和更改目标系统的基础硬件。 这是您创建硬盘驱动器分区或卷的地方，指定要使用的文件系统。 指定网络配置，启用或禁用 KDUMP，或选择一个安全配置文件。

#### 安装目标

在 *安装信息摘要* 界面上，点击 <kbd>安装目标</kbd> 选项。 这会将您带到相应的任务区域。

您将看到一个界面，显示目标系统上可用的所有候选磁盘驱动器。 如果你只有一个磁盘驱动器，比如我们的样本系统， 您看到列在 *本地标准磁盘* 下的驱动器，并且在它旁边看到一个勾选标记。 单击磁盘图标将打开或关闭磁盘选择复选标记。 保留选中以选择磁盘。

在 *存储配置* 选项部分下：

1. 选择 <kbd>Automatic</kbd> 单选按钮。

2. 单击界面顶部的 <kbd>Done</kbd>。

3. 一旦安装程序确定您有可用磁盘，它将返回到 *安装摘要* 屏幕。

### 网络 & 主机名

安装过程的最后一项任务是网络配置，您可以在其中配置或优化调整系统的网络相关设置。

!!! 提示

    单击 <kbd>网络 & 主机名</kbd> 选项后，所有正确检测到的网络接口硬件(如以太网、无线网卡等)都将列在网络配置界面的左窗格中。 根据您特定的硬件设置，Linux以太网设备的名称类似于`eth0`、`eth1`、`ens3`、`ens4`、`em1`、`em2`、`p1p1`、`enp0s3`等'。 
    对于每个接口，您可以使用 DHCP 或手动配置 IP 地址。 
    如果你选择手动配置，一定要准备好所有需要的信息，如IP地址、网络掩码等。

单击 _Installation Summary_下的 <kbd>Network & Hostname</kbd> 按钮，将打开相应的配置界面。 在其他方面，你可以选择配置系统的主机名。

!!! Note "说明"

    在安装操作系统之后，您可以很容易地更改此名称。

下一个重要的配置任务与系统上的网络接口相关。

1. 验证左边的窗格是否列出了以太网卡(或任何网络卡)。
2. 单击左窗格中检测到的任何网络设备以选择它。  
   所选网络适配器的可配置属性出现在屏幕右侧的窗格中。

!!! Note "说明"

    在我们的示例系统中，我们有两个以太网设备（`ens3`和`ens4`），它们都处于连接状态。 您系统上网络设备的类型、名称、数量和状态可能不同于我们演示系统上的设备。

Verify the switch of the device you want to configure is flipped to the `ON` (blue) position in the right pane. 我们将接受这一部分的所有默认值。

单击<kbd>Done</kbd>返回 _Installation Summary_ 主界面。

!!! Wanning "警告"

    注意此安装程序此部分服务器的 IP 地址。 如果您没有实际或简单的控制台访问系统， 此信息稍后会在您需要连接到服务器，以便在系统安装完成后继续工作。

### 用户设置部分

此部分可用于为 `root` 用户帐户创建密码，也可用于创建新的管理员或非管理员帐户。

#### 根用户 Root 密码

1. 点击 *根密码* 字段在 *用户设置* 启动 *根密码* 任务屏幕。

    !!! Wanning "警告"
   
        root超级用户是系统中具有最高特权的帐户。 因此，如果您选择使用或启用它，使用强密码保护此帐户就显得非常重要。

1. 在 *Root Password* 文本框中，为 root 用户设置了一个强大的密码。

1. 在 *Confirm* 文本框中再次输入相同的密码。

1. 单击<kbd>Done</kbd>。


#### 用户创建

此部分可用于为 `root` 用户账户创建密码，也可用于创建新的管理员或非管理员账户。

1. 在 *用户设置* 下点击 *用户创建* 字段开始 *创建用户* 任务屏幕。  
   此任务领域允许您在系统上创建一个特权或非特权用户账户(非行政用户)。

    !!! info "信息"
   
        !!! Info "资料"
           在系统上创建和使用非特权帐户执行日常任务是一种很好的系统管理习惯。

    我们将创建一个常规用户，可以在需要时调用超级用户(管理员)权力。

1. 使用以下信息完成 *创建用户* 屏幕中的字段:

    - **全名**: `rockstar`
    - **用户名**: `rockstar`
    - **使这个用户管理员**: 已检查
    - **需要密码才能使用此账户**: 已勾选
    - **密码**: `04302021`
    - **确认密码**: `04302021`

1. 单击<kbd>Done</kbd>。

## 安装阶段

一旦你对各种安装任务的选择感到满意，安装过程的下一个阶段将开始正式安装。


### 开始安装

一旦您对各种安装任务的选择感到满意，请单击主界面_Installation Summary_上的"开始安装"按钮。

安装将开始，安装程序将显示安装进度。 安装开始时，各种任务将开始在后台运行，例如对磁盘进行分区、格式化分区或LVM卷、检查并解决软件依赖关系、将操作系统写入磁盘等。

!!! Note "说明"

    如果您不想在单击"开始安装"按钮后继续， 您仍然可以在不丢失数据的情况下安全地返回安装。 要退出安装程序，只需单击"Quit"按钮，按键盘上的ctrl-alt-del组合键，或者按下重置或电源开关，即可重置系统。

### 完成安装

在安装程序运行完毕后，你会看到一个带有完整信息的最终安装进度屏幕。

最后，单击<kbd>Reboot System</kbd>按钮来完成整个过程， 系统将重启。

### 登录

最后，单击<kbd>重启系统</kbd>按钮来完成整个过程， 系统重启。

![Rocky Linux 欢迎界面](images/installation_9_F02.png)

要登录到系统：

1. 登录提示符时输入 `rockstar` 并按 <kbd>回车</kbd>键。

1. 在密码提示处，键入 `04302021`(rockstar 的密码)，然后按  <kbd>Enter</kbd> 键(密码将 ***不会*** 显示在屏幕上，这是正常的）。

1. 登录后运行 `whoami` 命令。  
   此命令显示当前登录用户的名称。

![Login Screen](images/installation_9.0_F03.png)
