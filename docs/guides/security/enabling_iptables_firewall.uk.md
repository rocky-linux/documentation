---
title: Увімкнення брандмауера `iptables`
author: Steven Spencer
contributors: Ezequiel Bruni, Ganna Zhyrnova
tested_with: 8.5, 8.6, 9.0
tags:
  - безпека
  - iptables
  - застарілий
---

# Увімкнення брандмауера iptables

## Передумови

* Палаюче, невгамовне бажання вимкнути стандартну програму _firewalld_ і ввімкнути _iptables_.

!!! warning "Процес застарілий"

    Починаючи з Rocky Linux 9.0, «iptables» і всі пов’язані з ним утиліти застаріли. Це означає, що майбутні випуски ОС видалятимуть `iptables`. З цієї причини настійно не рекомендується використовувати цей процес. Якщо ви знайомі з iptables, ми рекомендуємо використовувати [`iptables` Посібник до `firewalld`](firewalld.md). Якщо ви новачок у концепції брандмауера, ми рекомендуємо [`firewalld` для початківців](firewalld-beginners.md).

## Вступ

_firewalld_ тепер є брандмауером за умовчанням у Rocky Linux. _firewalld_ **був** нічим іншим, як динамічним застосуванням _iptables_ за допомогою файлів xml, які завантажували зміни без очищення правил у CentOS 7/RHEL 7.  У CentOS 8/RHEL 8/Rocky 8 _firewalld_ тепер є оболонкою для _nftables_. Проте все ще можна встановити та використовувати прямі _iptables_, якщо це ваші переваги. Щоб установити та запустити звичайні _iptables_ без _firewalld_, ви можете зробити це, дотримуючись цього посібника. Цей посібник **не** розповість вам, як писати правила для _iptables_. Передбачається, що якщо ви хочете позбутися _firewalld_, ви вже повинні знати, як писати правила для _iptables_.

## Відключення брандмауера

Ви не можете запустити старі утиліти _iptables_ разом із _firewalld_. Вони просто не сумісні. Найкращий спосіб обійти це — повністю вимкнути _firewalld_ (не потрібно видаляти його, якщо ви цього не хочете) і повторно встановити <em x-id="4" утиліти >iptables</em>. Вимкнути _firewalld_ можна за допомогою цих команд:

Зупинити _firewalld_:

`systemctl stop firewalld`

Вимкніть _firewalld_, щоб він не запускався під час завантаження:

`systemctl disable firewalld`

Замаскуйте службу, щоб її не можна було знайти:

`systemctl mask firewalld`

## Встановлення та ввімкнення служб iptables

Далі нам потрібно встановити старі служби та утиліти _iptables_. Це робиться за допомогою наступного:

`dnf install iptables-services iptables-utils`

Це встановить усе необхідне для запуску звичайного набору правил _iptables_.

Тепер нам потрібно ввімкнути службу _iptables_, щоб переконатися, що вона запускається під час завантаження:

`systemctl enable iptables`

## Висновок

Ви можете повернутися до використання простого _iptables_, якщо ви віддаєте перевагу цьому над _firewalld_. Ви можете повернутися до використання типового _брандмауера_, просто скасувавши ці зміни.
