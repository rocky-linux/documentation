---
title: Увімкнення брандмауера `iptables`
author: Steven Spencer
contributors: Ezequiel Bruni, Ganna Zhyrnova
tested*with: 8.5, 8.6, 9.0
tags:
  - безпека
  - iptables
  - застарілий
---

# Увімкнення брандмауера iptables

## Передумови

- Палаюче, невгамовне бажання вимкнути стандартну програму *firewalld* і ввімкнути *iptables*.

!!! warning "Процес застарілий"

    Починаючи з Rocky Linux 9.0, «iptables» і всі пов’язані з ним утиліти застаріли. Це означає, що майбутні випуски ОС видалятимуть `iptables`. З цієї причини настійно не рекомендується використовувати цей процес. Якщо ви знайомі з iptables, ми рекомендуємо використовувати [`iptables` Посібник до `firewalld`](firewalld.md). Якщо ви новачок у концепції брандмауера, ми рекомендуємо [`firewalld` для початківців](firewalld-beginners.md).

## Вступ

*firewalld* тепер є брандмауером за умовчанням у Rocky Linux. *firewalld* **був** нічим іншим, як динамічним застосуванням *iptables* за допомогою файлів xml, які завантажували зміни без очищення правил у CentOS 7/RHEL 7.  У CentOS 8/RHEL 8/Rocky 8 *firewalld* тепер є оболонкою для *nftables*. Проте все ще можна встановити та використовувати прямі *iptables*, якщо це ваші переваги. Щоб установити та запустити звичайні *iptables* без *firewalld*, ви можете зробити це, дотримуючись цього посібника. Цей посібник **не** розповість вам, як писати правила для *iptables*. Передбачається, що якщо ви хочете позбутися *firewalld*, ви вже повинні знати, як писати правила для *iptables*.

## Відключення брандмауера

Ви не можете запустити старі утиліти *iptables* разом із *firewalld*. Вони просто не сумісні. Найкращий спосіб обійти це — повністю вимкнути *firewalld* (не потрібно видаляти його, якщо ви цього не хочете) і повторно встановити утиліти *iptables*. Вимкнути *firewalld* можна за допомогою цих команд:

Зупинити *firewalld*:

`systemctl stop firewalld`

Вимкніть *firewalld*, щоб він не запускався під час завантаження:

`systemctl disable firewalld`

Замаскуйте службу, щоб її не можна було знайти:

`systemctl mask firewalld`

## Встановлення та ввімкнення служб iptables

Далі нам потрібно встановити старі служби та утиліти *iptables*. Це робиться за допомогою наступного:

`dnf install iptables-services iptables-utils`

Це встановить усе необхідне для запуску звичайного набору правил *iptables*.

Тепер нам потрібно ввімкнути службу *iptables*, щоб переконатися, що вона запускається під час завантаження:

`systemctl enable iptables`

## Висновок

Ви можете повернутися до використання простого *iptables*, якщо ви віддаєте перевагу цьому над *firewalld*. Ви можете повернутися до використання типового *брандмауера*, просто скасувавши ці зміни.
