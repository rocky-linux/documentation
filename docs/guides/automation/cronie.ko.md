---
title: cronie - 시간이 지정된 작업
author: tianci li
contributors: Steven Spencer
update: 2021-10-26
---

# 필요 사항

* Rocky Linux가 설치된 컴퓨터.
* 선호하는 편집기를 사용하여 명령줄 환경에서 구성 파일을 변경하는 방법을 알아두십시오(이 기사에서는 `vi`를 사용함).
* bash, python 또는 기타 스크립트 또는 프로그래밍 도구에 대한 기본 지식을 이해했으며 스크립트를 자동으로 실행해야 합니다.
* SSH를 통해 컴퓨터에 연결했습니다(UID가 1000보다 큰 루트 사용자 또는 일반 사용자일 수 있음).

## cron 소개

GNU/Linux는 자동화된 프로세스를 위한 시간 기반 `cron` 작업 프로그램인 *cron* 시스템을 제공합니다. 어렵지는 않지만 상당히 강력합니다. 매일 오후 5시에 실행되는 스크립트나 프로그램을 원하십니까? `cron`이 할 수 있습니다. 동일한 기능을 가진 `cron`의 여러 브랜치(또는 변형)가 있습니다. 본 문서에서는 **cronie**를 사용하였으며 버전은 1.5.2입니다. [여기](https://github.com/cronie-crond/cronie)를 클릭하여 최신 버전과 업데이트 로그를 찾을 수 있습니다.

## cronie 설명

*  **cronie** -패키지 이름, Rocky Linux는 기본적으로 cronie를 포함합니다.
*  **crontab** - 각 사용자의 `crontab`(작업 일정)을 유지하는 명령입니다.
*  **crond.service** -cronie의 데몬, `systemctl start | restart | stop | status`를 통해 데몬을 관리할 수 있습니다.
*  **/etc/crontab** -크론 작업을 다른 사용자에게 할당합니다. 일반적으로 우리는 `crontab -e`를 사용하는 데 더 익숙합니다. 예를 들어 현재 루트 사용자로 로그인한 경우 `crontab -e`를 입력하면 저장 후 /var/spool/cron/root 파일에서 특정 크론 작업을 볼 수 있습니다.
*  **/var/log/cron \* ** - Cronie의 로그는 기본적으로 로그 회전을 수행하고 날짜 접미사로 끝납니다. \*는 와일드카드를 의미합니다.
*  **anacron** -크로니의 일부. `anacron`에 대한 자세한 내용은 [anacron 자동화 명령](anacron.md)을 참조하세요.

## `crontab` 명령

`crontab`은 cronie 패키지 설치 후 얻은 명령입니다. `anacron`에 비해 7 \* 24시간 작동하는 서버에 더 적합합니다. `crontab`의 일반적인 옵션은 다음과 같습니다.

```bash
-e # crontab 예약 작업 편집
-l # crontab 작업 보기
-r # 현재 사용자의 모든 crontab 작업 삭제
```

## cronie 사용

다른 사용자가 다른 시간에 다른 명령(또는 스크립트)을 실행할 수 있도록 하기 위해 이 파일에 기록할 수 있습니다. 그러나 일반적으로 우리는 `crontab -e`를 사용하는 데 더 익숙합니다.

```bash
shell > cat /etc/crontab
SHELL=/bin/bash
PATH=/sbin:/bin:/usr/sbin:/usr/bin
MAILTO=root
# For details see man 4 crontabs
# Example of job definition:
# .---------------- minute (0-59)
# | .------------- hour (0-23)
# | | .---------- day of month (1-31)
# | | | .------- month (1-12) OR jan,feb,mar,apr ...
# | | | | .---- day of week (0-6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat
# | | | | |
# * * * * * user-name command to be executed
```

| 변수          | 뜻  | 값 범위                   |
| ----------- | -- | ---------------------- |
| The 1st\* | 분  | 0-59                   |
| The 2nd\* | 시간 | 0-23                   |
| The 3rd\* | 일  | 1-31                   |
| The 4th\* | 월  | 1-12                   |
| The 5th\* | 요일 | 0-7(0과 7은 모두 일요일을 나타냄) |

다음 예에서는 root 사용자로 이 작업을 수행한다고 가정하고 다음을 입력합니다.

* `crontab -e` 루트 사용자의 시간 제한 작업을 불러옵니다. `vi`를 기본 시스템 편집기로 사용하는 경우 <kbd>i</kbd> 키를 눌러 삽입 모드로 들어갑니다.
* "#"은 한 줄의 주석임을 의미합니다.

```bash
# 야간 10시 백업 시스템
00 22 *  *  * /usr/local/sbin/backup
```

* 위의 내용을 입력했으면(다시 `vi`가 시스템 편집기라고 가정) <kbd>ESC</kbd>를 눌러 삽입 모드를 종료합니다.
* <kbd>SHIFT</kbd>+<kbd>:</kbd>+<kbd>wq!</kbd>(편집기 하단에 표시됨)를 사용하여 파일을 저장하고 종료합니다.

이제 스크립트는 매일 밤 22:00에 실행됩니다. 이것은 단순한 예입니다. 더 정교한 것이 필요하면 상황이 더 복잡해질 수 있습니다.

!!! 팁 "Attention"

    cronie가 스크립트를 실행하려면 스크립트에 실행 권한(`chmod +x`)이 있어야 합니다.

#### 복잡한 옵션

지금까지 논의된 내용은 단순한 옵션이지만 더 복잡한 시간 제한 작업은 어떻습니까?

```bash
# 10분마다 백업 스크립트를 실행한다고 가정합니다(비실용적일 수 있지만 이는 단지 예일 뿐입니다!) 하루 종일. 이를 위해 다음과 같이 작성됩니다:
* /10 *  *  *  * /usr/local/sbin/backup
# 월요일, 수요일, 금요일에 10분마다 백업을 실행하려면 어떻게 해야 합니까? :
* /10 *  *  * 1,3,5 /usr/local/sbin/backup
# 토, 일 외에 10분에 한번씩 매일 백업하는 방법은?
* /10 *  *  * 1-5 /usr/local/sbin/backup
```

| 특수 기호 | 뜻                                                                                     |
| ----- | ------------------------------------------------------------------------------------- |
| *     | 시간을 나타냅니다. 예를 들어 첫 번째 *는 분을 의미하고 두 번째 *는 시간을 의미합니다.                                 |
| ,     | "0 8,12,16 * * * "와 같이 불연속 시간을 나타내며, 이는 명령이 매일 8:00, 12:00 및 16:00에 한 번 실행됨을 의미합니다. |
| -     | "0 5 * * 1-6"과 같이 연속적인 시간 범위를 나타내며, 이는 명령이 월요일부터 토요일까지 매일 아침 5시에 실행됨을 의미합니다.        |
| */n   | "*/10 * * * *"와 같이 간격이 실행되는 빈도를 나타냅니다. 이는 10분마다 실행됨을 의미합니다.                       |

!!! 팁 "Attention"

    크로니가 인식할 수 있는 가장 작은 시간 단위는 1분입니다. 예를 들어 `30 4 1,15 * 5 명령`을 사용하면 매월 1일과 15일, 매주 금요일 오전 4시 30분에 명령이 실행됩니다. 일부 스크립트 또는 명령의 출력 정보는 시간이 지정된 작업의 실행을 방지하고 다음과 같은 출력 리디렉션이 필요합니다. `*/10 * * * * /usr/local/sbin/backup &> /dev/null`

## Q & A

1. /etc/crontab 및 `crontab -e` , 두 방법 사이에 차이점이 있습니까? `crontab -e`는 사용자를 지정할 필요가 없지만(현재 로그인한 사용자가 기본적으로 사용됨) /etc/crontab은 사용자를 지정해야 합니다.
2. 지정된 명령이나 스크립트가 올바르게 실행되지 않으면 어떻게 해야 합니까? 문제 해결을 위해 /var/log/cron* 파일을 확인하고 `journalctl -u crond.service`를 사용하여 데몬 프로세스에 대한 정보, 스크립트에 x 권한이 있는지 여부 등을 확인합니다.
3. cron 외에 어떤 cron 변형이 있습니까? [ dcron ](http://www.jimpryor.net/linux/dcron.html), 최신 버전은 4.5(2011-50-01)입니다. [ fcron ](http://fcron.free.fr/), 최신 버전은 3.3.0(dev, 2016-08-14)입니다. [ bcron ](http://untroubled.org/bcron/), 최신 버전은 0.11(2015-08-12)입니다. [ cronsun ](https://github.com/shunfei/cronsun), 최신 버전 0.3.5(2018-11-20).

## 요약

Rocky Linux 데스크톱 사용자 또는 시스템 관리자에게 cronie는 매우 강력한 도구입니다. 작업 및 스크립트를 자동화할 수 있으므로 수동으로 실행해야 하는 것을 기억할 필요가 없습니다. 기본 지식은 어렵지 않지만 실제 작업은 복잡할 수 있습니다. `crontab`에 대한 자세한 내용은 [crontab 매뉴얼 페이지](https://man7.org/linux/man-pages/man5/crontab.5.html)를 방문하세요. 또한 인터넷에서 "crontab"을 검색하면 많은 검색 결과를 제공하고 `crontab` 표현식을 미세 조정하는 데 도움이 됩니다.
