---
title: DISA STIG на Rocky Linux 8 – Частина 1
author: Scott Shinn
contributors: Steven Spencer, Ganna Zhyrnova
tested_with: 8.6
tags:
  - DISA
  - STIG
  - безпека
  - enterprise
---

# ЯК: STIG Rocky Linux 8 Fast - Частина 1

## Термінологічний довідник

* DISA - Агентство оборонних інформаційних систем
* RHEL8 - Red Hat Enterprise Linux 8
* STIG - Посібник із безпечного технічного впровадження
* SCAP - протокол автоматизації безпечного вмісту
* DoD - Міністерство оборони

## Вступ

У цьому посібнику ми розповімо, як застосувати [DISA STIG для RHEL8](https://www.stigviewer.com/stig/red_hat_enterprise_linux_8/) для нової інсталяції Rocky Linux 8. Оскільки серія складається з багатьох частин, ми також розповімо, як перевірити відповідність STIG, адаптувати параметри STIG і застосувати інший вміст STIG у цьому середовищі.

Rocky Linux — це похідна від RHEL, і тому вміст, опублікований для DISA RHEL8 STIG, є однаковим для обох операційних систем.  Навіть краща новина: застосування параметрів STIG вбудовано в інсталятор Rocky Linux 8 anaconda в розділі «Профілі безпеки».  Під капотом усе це працює за допомогою інструменту під назвою [OpenSCAP](https://www.open-scap.org/), який дозволяє вам налаштувати систему на сумісність із DISA STIG (швидко!), а також перевірити відповідність системи після встановлення.

Я буду робити це на віртуальній машині у своєму середовищі, але все тут буде застосовано точно так само на чистому залізі.

### Крок 1: Створіть віртуальну машину

* Пам'ять 2G
* диск 30G
* 1 ядро

![Віртуальна машина](images/disa_stig_pt1_img1.jpg)

### Крок 2. Завантажте Rocky Linux 8 DVD ISO

[Download Rocky Linux DVD](https://download.rockylinux.org/pub/rocky/8/isos/x86_64/Rocky-8.6-x86_64-dvd1.iso).  **Примітка.** Мінімальний ISO не містить вмісту, необхідного для застосування STIG для Rocky Linux 8, вам потрібно використовувати DVD або мережеву установку.

![Завантажити Rocky](images/disa_stig_pt1_img2.jpg)

### Крок 3. Завантажте інсталятор

![Завантажити інсталятор](images/disa_stig_pt1_img3.jpg)

### Крок 4: СПОЧАТКУ виберіть Розбиття

Це, ймовірно, найскладніший крок у встановленні та вимога дотримання вимог STIG. Вам потрібно буде розділити файлову систему операційної системи таким чином, що, ймовірно, створить нові проблеми. Іншими словами: вам потрібно точно знати, які ваші вимоги до пам’яті.

!!! підказка "Pro-Tip"

    Linux дозволяє змінювати розміри файлових систем, про що ми розповімо в іншій статті. Достатньо сказати, що це одна з найбільших проблем із застосуванням DISA STIG на чистому залізі, для вирішення якої часто потрібно повне перевстановлення, тому розмір, який вам потрібен, перевищує специфікацію.

![Розділення](images/disa_stig_pt1_img4.jpg)

* Виберіть «Custom», а потім «Done»

![Кастомне розбиття](images/disa_stig_pt1_img5.jpg)

* Почніть додавати розділи

![Додати розділ](images/disa_stig_pt1_img6.jpg)

Схема розподілу DISA STIG для диска 30G. Я використовую простий веб-сервер:

* /  (10G)
* /boot (500m)
* /var (10G)
* /var/log (4G)
* /var/log/audit (1G)
* /home (1G)
* /tmp  (1G)
* /var/tmp (1G)
* Swap (2G)

!!! підказка "Pro-Tip"

     Налаштуйте / last і встановіть йому справді велике число, це призведе до того, що весь вільний простір на диску залишиться на /, і вам не доведеться робити жодних обчислень.

![Slash Partition](images/disa_stig_pt1_img7.jpg)

!!! підказка "Pro-Tip"

    Повторення попередньої підказки професіонала: НАДВИЖУЙТЕ СПЕЦИФІКАЦІЇ ваших файлових систем, навіть якщо вам доведеться їх розширити пізніше.

* Натисніть «Done» і «Accept Changes»

![Підтвердити розділення](images/disa_stig_pt1_img8.jpg)

![Застосувати зміни](images/disa_stig_pt1_img9.jpg)

### Крок 5: Налаштуйте програмне забезпечення для свого середовища: встановлення сервера без графічного інтерфейсу користувача

Це матиме значення на **кроці 6**, тому якщо ви використовуєте інтерфейс користувача або конфігурацію робочої станції, профіль безпеки буде іншим.

![Вибір програмного забезпечення](images/disa_stig_pt1_img10.jpg)

### Крок 6: Виберіть профіль безпеки

Це налаштує низку параметрів безпеки в системі на основі вибраної політики, використовуючи структуру SCAP. Він змінить пакунки, які ви вибрали на **кроці 5**, додавши або видаливши необхідні компоненти.  Якщо ви _вибрали_ інсталяцію з графічним інтерфейсом користувача на **кроці 5**, і на цьому кроці ви використовуєте STIG без графічного інтерфейсу, це видалить графічний інтерфейс. Відрегулюйте відповідно!

![Профіль безпеки](images/disa_stig_pt1_img11.jpg)

Виберіть DISA STIG для Red Hat Enterprise Linux 8:

![DISA STIG](images/disa_stig_pt1_img12.jpg)

Натисніть «Select Profile» і зверніть увагу на зміни, які він збирається внести в систему. Це встановить параметри для точок монтування, додасть/видалить програми та внесе інші зміни конфігурації:

![Select Profile_A](images/disa_stig_pt1_img13.jpg)

![Select_Profile_B](images/disa_stig_pt1_img14.jpg)

### Крок 7. Натисніть «Done» та перейдіть до остаточного налаштування

![Фіналізувати профіль](images/disa_stig_pt1_img15.jpg)

### Крок 8. Створіть обліковий запис користувача та призначте цього користувача адміністратором

У наступних посібниках ми зможемо приєднати це до корпоративної конфігурації FreeIPA. Наразі ми розглядатимемо це окремо. Зауважте, що я не встановлюю пароль root, а ми надаємо доступ нашому користувачеві за замовчуванням `sudo`.

![Налаштування користувача](images/disa_stig_pt1_img16.jpg)

### Крок 9. Натисніть «Done», а потім «Begin Installation»

![Розпочати встановлення](images/disa_stig_pt1_img17.jpg)

### Крок 10. Після завершення встановлення натисніть «Reboot System»

![Перезавантаження](images/disa_stig_pt1_img18.jpg)

### Крок 11: Увійдіть у свою систему STIG'd Rocky Linux 8

![DoD Warning](images/disa_stig_pt1_img19.jpg)

Якщо все пройшло добре, ви повинні побачити тут банер із застереженням Міністерства оборони за замовчуванням.

![Фінальний екран](images/disa_stig_pt1_img20.jpg)

## Про автора

Скотт Шінн є технічним директором Atomicorp і є частиною команди Rocky Linux Security. Він працював із федеральними інформаційними системами Білого дому, Міністерства оборони та розвідувального співтовариства з 1995 року. Частково це було створення STIG і вимога, щоб ви їх використовували, і я дуже шкодую про це.
