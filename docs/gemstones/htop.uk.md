---
title: htop - Управління процесами
author: tianci li
contributors: Steven Spencer
date: 2021-10-16
tags:
  - htop
  - процеси
---

# htop - Управління процесами

## інсталяція `htop`
Кожен системний адміністратор любить використовувати деякі з найбільш часто використовуваних команд. Сьогодні я рекомендую `htop` як альтернативу команді `top`. Щоб зазвичай використовувати команду `htop`, її потрібно спочатку встановити.

``` bash
# Installation epel source (also called repository)
dnf -y install epel-release
# Generate cache
dnf makecache
# Install htop
dnf -y install htop
```

## Використання `htop`
Вам потрібно лише ввести `htop` у терміналі, і інтерактивний інтерфейс буде мати вигляд:

```
0[ |||                      3%]     Tasks: 22, 46thr, 174 kthr 1 running
1[ |                        1%]     Load average: 0.00 0.00 0.05
Mem[ |||||||           197M/8G]     Uptime: 00:31:39
Swap[                  0K/500M]
PID   USER   PRI   NI   VIRT   RES   SHR   S   CPU%   MEM%   TIME+   Command(merged)
...
```

<kbd>F1</kbd>Help   <kbd>F2</kbd>Setup  <kbd>F3</kbd>Search <kbd>F4</kbd>Filter <kbd>F5</kbd>Tree   <kbd>F6</kbd>SortBy <kbd>F7</kbd>Nice   <kbd>F8</kbd>Nice+  <kbd>F9</kbd>Kill   <kbd>F10</kbd>Quit

### Верхній опис

* Верхні 0 і 1 вказують на кількість ядер вашого ЦП, а відсоток вказує на рівень завантаження одного ядра (звичайно, загальний рівень завантаження ЦП також може відображатися)
    * Різні кольори індикатора прогресу вказують на відсоток різних типів процесів:

        | Колір     | Опис                                                               | Назви, які відображаються в інших стилях |
        | --------- | ------------------------------------------------------------------ | ---------------------------------------- |
        | Синій     | Відсоток ЦП, який використовується процесами з низьким пріоритетом | low                                      |
        | Зелений   | Відсоток ЦП процесу, що належить звичайним користувачам            |                                          |
        | Червоний  | Відсоток ЦП, який використовується системними процесами            | sys                                      |
        | Блакитний | Відсоток процесора, споживаного крадіжкою часу                     | vir                                      |

* Tasks: 22, 46thr, 174 kthr 1 running. У моєму прикладі це означає, що моя поточна машина має 22 завдання, які поділені на 46 потоків, з яких лише 1 процес у запущеному стані, «kthr» вказує на кількість потоків ядра.
* Мем інформація. Так само використовуються різні кольори, щоб розрізняти:

   | Колір               | Опис                                                | Назви, які відображаються в інших стилях |
   | ------------------- | --------------------------------------------------- | ---------------------------------------- |
   | Синій               | Відсоток пам'яті, який споживає буфер               | buffers                                  |
   | Зелений             | Відсоток пам’яті, який займає область пам’яті       | used                                     |
   | Жовтий/помаранчевий | Відсоток пам’яті, який займає область кешу          | cache                                    |
   | Пурпурний           | Відсоток пам’яті, зайнятий спільною областю пам’яті | shared                                   |

* Обмін інформацією.

   | Колір               | Опис                                     | Назви, які відображаються в інших стилях |
   | ------------------- | ---------------------------------------- | ---------------------------------------- |
   | Зелений             | Відсоток swap, використаного зоною swap  | used                                     |
   | Жовтий/помаранчевий | Відсоток swap, використаний областю кешу | cache                                    |

* Середнє навантаження, три значення відповідно представляють середнє навантаження системи за останню 1 хвилину, останні 5 хвилин і останні 15 хвилин
* Час роботи, що означає час роботи після завантаження

### Опис інформації про процес

* **PID - Ідентифікаційний номер процесу**
* USER - власник процесу
* PRI – відображає пріоритет процесу, як його бачить ядро Linux
* NI – відображає пріоритет процесу скидання звичайним користувачем або суперкористувачем root
* VIRT - Віртуальна пам'ять, яка споживається процесом
* **RES - фізична пам'ять, яка споживається процесом**
* SHR - спільна пам'ять, яка споживається процесом
* S - поточний стан процесу, є спеціальний стан, на який слід звернути увагу! Це Z (процес зомбі). Коли в машині є велика кількість зомбі-процесів, це може вплинути на продуктивність машини.
* **CPU% - відсоток CPU, споживаний кожним процесом**
* MEM% - відсоток пам'яті, споживаної кожним процесом
* TIME+ - показує час роботи з моменту запуску процесу
* Command - команда, що відповідає процесу

### Опис клавіш швидкого доступу
В інтерактивному інтерфейсі натисніть кнопку <kbd>F1</kbd>, щоб переглянути опис відповідної клавіші швидкого доступу.

* За допомогою клавіш вгору, вниз, ліворуч і праворуч можна прокручувати інтерактивний інтерфейс, а <kbd>пробіл</kbd> може позначати відповідний процес, який позначено жовтим.
* Кнопка <kbd>N</kbd>, кнопка <kbd>P</kbd>, кнопка <kbd>M</kbd> і кнопка <kbd>T</kbd> відповідно PID, CPU%, MEM%, TIME+ використовується для сортування. Звичайно, ви також можете використовувати мишу для сортування в порядку зростання або спадання певного поля.

### Інші загальновживані клавіши
Щоб керувати процесом, використовуйте кнопку <kbd>F9</kbd>, для надсилання різних сигналів процесу. Список сигналів можна знайти в `kill -l`. Найбільш часто використовувані:

| Сигнал | Опис                                                                                                                                                                           |
| ------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| 1      | Дозволяє негайно завершити процес, а потім перезапустити після повторного читання файлу конфігурації                                                                           |
| 9      | Використовується для негайного завершення роботи програми, використовується для примусового завершення процесу, подібно до примусового завершення на панелі завдань Windows    |
| 15     | Стандартний сигнал для команди kill. Іноді, якщо в процесі виникла проблема і процес не може бути нормально завершено за допомогою цього сигналу, ми спробуємо подати сигнал 9 |

## Кінець
`htop` набагато легший у використанні, ніж `top`, який постачається разом із системою, він більш інтуїтивно зрозумілий і значно покращує щоденне використання. Це те, що автор інсталює відразу після встановлення операційної системи.
