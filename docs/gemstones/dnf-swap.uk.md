- - -
назва: dnf - команда обміну автор: wale soyinka учасники: Дата: 2023-01-24 теги:
  - хмарні зображення
  - контейнери
  - dnf
  - dnf swap
  - curl
  - curl-minimal
  - дозвіл стирання
  - coreutils-single
- - -


# Вступ

Для того, щоб зображення контейнерів і хмарних зображень були якомога меншими, розповсюджувачі та пакувальники іноді можуть надсилати скорочені версії популярних пакунків. Прикладами скорочених пакетів, укомплектованих зображеннями контейнерів або хмар, є **vim-minimal, curl-minimal, coreutils-single** тощо.

Хоча деякі пакети, що постачаються, є скороченими версіями, вони часто цілком прийнятні для більшості випадків використання.

У випадках, коли скороченого пакета недостатньо, ви можете використати команду `dnf swap`, щоб швидко замінити мінімальний пакет на звичайний пакет.

# Мета

Цей Rocky Linux GEMstone демонструє, як використовувати **dnf** для _заміни_ пакета `curl-minimal` звичайним пакетом `curl`.


## Перевірка існуючого варіанту curl

Увійшовши в середовище свого контейнера або віртуальної машини як користувач із правами адміністратора, спочатку перевірте, чи встановлено варіант пакета `curl`. Впишіть:

```bash
# rpm -qa | grep  ^curl-minimal
curl-minimal-*
```

У нашій демо-системі є curl-minimal!


## Заміна curl-minimal на curl

Використовуйте `dnf`, щоб замінити встановлений пакет `curl-minimal` на звичайний пакет `curl`.

```bash
# dnf -y swap curl-minimal curl

```

## Перевірка нового варіанту curl package

Щоб підтвердити зміни, знову надішліть запит до бази даних rpm для встановлених пакетів curl, виконавши:

```bash
# rpm -qa | grep  ^curl
curl-*
```


І це GEM!


## Примітки

Команда обміну DNF

**Синтаксис**:

```bash
dnf [options] swap <package-to-be-removed> <replacement-package>
```

Під капотом `dnf swap` використовує параметр DNF `--allowerasing` для вирішення будь-яких конфліктів пакунків. Тому мінімальний приклад curl, продемонстрований у цьому GEMstone, також можна було б виконати, виконавши:


```bash
dnf install -y --allowerasing curl
```



