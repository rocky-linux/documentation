---
title: dnf - команда обміну
author: wale soyinka
contributors:
date: 2023-01-24
tags:
  - хмарні зображення
  - контейнери
  - dnf
  - dnf swap
  - vim
  - vim-minimal
  - дозвіл стирання
  - coreutils-single
---

# Вступ

Для того, щоб зображення контейнерів і хмарних зображень були якомога меншими, розповсюджувачі та пакувальники іноді можуть надсилати скорочені версії популярних пакунків. Прикладами спрощених пакетів, що постачаються з контейнерними або хмарними образами, є **vim-minimal**, curl-minimal, coreutils-single\*\* тощо.

Хоча деякі пакети, що постачаються, є скороченими версіями, вони часто цілком прийнятні для більшості випадків використання.

У випадках, коли спрощеного пакета недостатньо, ви можете скористатися командою `dnf swap`, щоб швидко замінити мінімальний пакет звичайним пакетом.

## Мета

Цей GEMstone для Rocky Linux демонструє, як використовувати **dnf** для _заміни_ пакета `vim-minimal`, що входить до комплекту, на звичайний пакет `vim`.

## Перевірте існуючий варіант `vim`

Увійшовши до середовища контейнера або віртуальної машини як користувач з правами адміністратора, спочатку перевірте встановлений варіант пакета `vim`. Впишіть:

```bash
# rpm -qa | grep  ^vim
vim-minimal-8.2.2637-22.el9_6.1.x86_64
```

Пакет `vim-minimal` є у вашій системі.

## Замініть `vim-minimal` на `vim`

Використайте `dnf` для заміни встановленого пакета `vim-minimal` на звичайний пакет `vim`.

```bash
# dnf -y swap vim-minimal vim

```

## Перевірте новий варіант пакета `vim`

Щоб підтвердити зміни, знову запитайте базу даних rpm щодо встановлених пакетів `vim`, виконавши команду:

```bash
# rpm -qa | grep  ^vim
vim-enhanced-8.2.2637-22.el9_6.1.x86_64
```

І це GEM!

## Примітки

Команда обміну DNF

**Синтаксис**:

```bash
dnf [options] swap <package-to-be-removed> <replacement-package>
```

Під капотом, `dnf swap` використовує опцію DNF `--allowerasing` для вирішення будь-яких конфліктів пакетів. Таким чином, мінімальний приклад `vim`, продемонстрований у цьому GEMstone, також можна було б виконати, виконавши:

```bash
dnf install -y --allowerasing vim
```
