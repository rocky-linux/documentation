---
title: 当前发布 10 版本
tags:
  - 10
  - 10.0 release
  - Rocky Linux 10
---

## Rocky Linux 10

Rocky Linux 10（RL 10）是 Rocky Linux 企业级操作系统发布的最新重大版本。

### 升级到 Rocky Linux 10

Rocky Linux 不支持任何主要版本的升级。 要从 8.x 或 9.x 迁移到 Rocky Linux 10，您应该重新安装操作系统。

### 新特性与变化

以下部分将介绍 RL 10 的精选特性。

与所有主要的 Rocky Linux 发行版一样，本发布说明涵盖了许多增强功能、变更项和新特性。

以下概述重点介绍了以下类别的变化：架构、内核、安装程序、网络、安全、虚拟化、容器、存储和软件包管理。 此处精选的特性最可能与普通用户相关。

有关重大变化的完整清单，请参阅 [此处](https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/10/html/10.0_release_notes/overview#overview-major-changes) 的上游清单。

### 支持的架构

!!! warning "请检查 CPU 兼容性"

    在 x86_64 处理器架构上，RL 10 不再支持 x86-64-v2 微架构级别及更早期的硬件，并将 x86-64-v3 微架构作为发行版的最低要求。
    更多信息请参阅 [支持的微架构级别部分](#supported-microarchitecture-levels)，特别是关于 CPU 兼容性测试的相关说明。

!!! info "停止 32 位软件包"

    Rocky Linux 10 已移除对 x86_64 架构的 32 位兼容性支持。请改用 64 位库或包含 32 位依赖项的容器环境。

Rocky Linux 10 支持以下处理器架构：

- 64-bit AMD/Intel x86-64-v3 (x86_64)
- 64-bit RISC-V (riscv64)
- 64-bit ARMv8.0-A (aarch64)
- IBM POWER9, little endian (ppc64le)
- IBM z14 (s390x)

#### 全新支持 RISC-V 架构

经过 Rocky Linux 发布工程团队的长期努力，终于将 Rocky Linux 10 成功适配于特定的 "RISC-V 实现"。
发布当天支持的平台/子系统包括 - StarFive VisionFive 2 (VF2)、**QEMU** 和 SiFive HiFive Premier P550。

有关此里程碑的更多详细信息（包括 RL10 对 RISC-V 的支持），请访问 [此网站](https://rockylinux.org/news/rockylinux-support-for-riscv)。

#### 支持的微架构级别

x86-64-v3 微架构基于 Intel Haswell 处理器一代的特性集。 少数的英特尔 Atom 处理器（如 Gracemont 系列处理器）支持 x86-64-v3。 而其他处理器（包括英特尔 Atom Parker Ridge 系列处理器 和英特尔 Atom x6416RE Elkhart Lake 系列处理器）则不提供 x86-64-v3 功能特性，因此在 RL 10 中不支持。 若要确认处理器兼容性，请 [使用此过程](https://docs.rockylinux.org/gemstones/test_cpu_compat/) 进行验证。

x86-64-v3 微架构级别是 Rocky Linux 10 在 x86_64 平台的最低硬件要求标准，该标准由 AMD 通过其‌ Excavator 微架构‌首次实现。 这意味着基于 Excavator 架构之前的旧处理器可能不被 Rocky Linux 10 完全支持。

!!! Note "树莓派镜像差异"

    10 版本 的 Rocky Linux Pi 镜像与之前版本的主要区别在于——10 版本支持 Pi 4 和 Pi 5，而 9 版本支持 Pi 3、Pi 4、Pi 5 和 Pi Zero 2W。

### 安装程序和镜像创建

Rocky Linux 安装程序的交互式图形界面 Anaconda 在第 10 版中进行了多项改进。

关键变化包括：

- 默认情况下禁用 root 账户。 系统管理需要创建一个拥有完整 sudo 权限的管理员用户。 如果你选择通过设置密码来启用 root 账户，那么你就可以创建没有管理员权限的标准用户。
- 远程桌面协议（RDP）在安装过程中取代了 VNC，以进行图形化远程访问。 这一变化会影响相关的内核启动选项。
- 移除安装程序 "Time & Date" 部分下的时区地图。
- 图形界面在初始安装时不再支持添加第三方存储库。 使用 `inst.addrepo` 启动选项或 Kickstart 代替。
- 移除安装时可用的文档。

### 内核

RL 10 默认的开箱即用内核已经更新到 6.12.0 版本。

由于某些内核功能无人维护、不安全或已弃用，现在这些功能已被禁用。

如果需要，`rh_waived` 内核命令行参数可以启用这些功能。 最早合格虚拟截止日期优先（Earliest Eligible Virtual Deadline First，EEVDF）取代了 CFS 调度器，它优先处理具有较短时间片的延迟敏感任务，以提高响应速度。

### 网络

RL 10 中网络功能的增强包括对网络配置、网络接口聚合、DHCP 客户端和服务器的变更以及设备驱动程序的添加与删除。

#### NetworkManager 和 Network Script

旧的 ifcfg-rh 网络脚本在 Rocky Linux 的旧版本（9.x）中已经被弃用。 在 Rocky Linux 10 中，这些脚本已不再可用。

现在你必须使用 NetworkManager。 这些工具包括 `nmcli`、`nmtui` 和 `nmstate` 。 这意味着一些较旧的文件和命令将不再起作用，同时存放网络配置文件的位置也发生了变化。

- 在 /etc/sysconfig/network-scripts/ 目录下带有 ifcfg- 前缀的文件将不再支持。
- ifup 和 ifdown 命令不再可用。
- 不再支持旧版的网络脚本（例如 ifup-local）。
- 网络配置文件保存在 /etc/NetworkManager/system-connections/ 文件夹中。

#### DHCP 客户端与服务器

RL 10 中的 DHCP 客户端通过 NetworkManager 的内部子系统来实现。 旧版 dhcp-client 软件包已被移除且上游也不再支持它。

在 RL 10 中，Kea DHCP 替换了已到 EOF 的 ISC DHCP 服务器。

#### 网络 Bonding 和 Teaming

Rocky Linux 的旧版本已弃用 NIC teaming 功能。 在 RL 10 中已被完全移除。 作为替代，请配置一个 bond 而不是一个网络 team。

### 存储

除了以下变更之外，还会从 RL 10 中添加、更新或删除了几个与存储相关的设备驱动程序。

#### Global File System 2 (GFS2)

RL 10 不再支持 GFS2 文件系统。

#### Device Mapper Multipath

RL 10 不支持在 NVMe 设备上启用 Device Mapper (DM) Multipath。

#### LUKS2 磁盘加密

cryptsetup 软件包为了解决一些问题，已变基到 2.7 版本，并在使用内核转储（kdump）服务时支持 LUKS 加密设备。

### 安全功能

随着 RL 10 的发布，其引入了许多与安全相关的全新功能。

一些更新包括：

- 系统范围的加密策略（crypto-policies）：OpenSSL 和 OpenSSH 现在支持后量子密码学（PQC）。
- Sequoia PGP：一种内存安全型的 OpenPGP 实现方案。
- OpenSSH：恢复更严格的 SSH 主机密钥权限管控。 （新权限 = 0600 Vs 旧权限 = 0640）。
- GnuTLS：客户端与服务器证书现支持压缩传输
- yescrypt 算法：系统默认账户的密码加密机制已调整为该算法。

新的 SELinux 变更包括以下更新：

- 文件上下文等价关系现在已反转为 /var/run = /run。
- SELinux 策略新增 libvirt 服务域类型。

### 虚拟化

虚拟化的主要变化如下：

- 单一守护进程 libvirtd 已被弃用。 使用模块化和套接字作为替代。 请参阅 [上游文档](https://libvirt.org/daemons.html#monolithic-vs-modular-daemons) 中有关差异的详细文档
- 弃用 i440fx 虚拟机类型
- 弃用 Virtual Machine Manage 并打算用 Cockpit 作为替代

### 容器

RL 10 种的 Podman 5 引入了多项升级特性，其中包括新的默认容器运行时 `crun`，它取代了原有的 `runc`。 Control Groups v2 现在是默认的 cgroup 版本。

主要更新包括弃用 slirp4netns 网络模式、新增镜像推送/拉取操作的重试次数与延时配置功能，以及提供对多架构容器镜像的全面支持。

此外，Podman 5 继续支持 Podman 4.4 中引入的 Quadlets 功能，该功能允许使用声明式 unit 文件通过 `systemd` 来管理 Podman 容器。

### 软件管理

RPM 现在是 4.19 版本，其中包含了对打包和构建工具的改进和更新。 还引入了一个新的 `rpmsort` 命令，用于在输出管道中正确排序 RPM 版本字符串。 例如：

The old `sort`: `rpm -q kernel | sort`\
kernel-6.12.0-130.el10.x86_64\
kernel-6.12.0-13.el10.x86_64

The new `rpmsort`: `rpm -q kernel | rpmsort`\
kernel-6.12.0-13.el10.x86_64\
kernel-6.12.0-130.el10.x86_64

#### DNF

默认情况下，DNF 现在会忽略存储库文件列表元数据的下载，从而增强响应能力并节省磁盘空间。 需要此元数据的 DNF 命令通常会自动完成下载。

#### 模块化

DNF 模块化已被弃用，Rocky Linux 将在 RL 10 中停止以模块形式提供 AppStream 内容。 未来，RL 10 可能会提供其他应用程序版本，如 RPM 软件包、软件集合 或 Flatpaks 。

换言之，由于下一代 DNF 包管理器（`dnf5`）已经统一了 API 并且不再依赖于旧的模块化架构来管理软件的多个版本，因此 `dnf module` 命令在 RL 10 中已经被逐步淘汰。 相关比较如下：

|    描述    |                                                            旧（`dnf module`）                                                            | 新                             |
| :------: | :-----------------------------------------------------------------------------------------------------------------------------------: | :---------------------------- |
|  查看可用版本  |                                                    `dnf module list <moduel-name>`                                                    | `dnf repoquery <Name>`        |
| 安装一个特定版本 |                                    `dnf module enable nginx:1.14 && dnf module install nginx:1.14`                                    | `dnf install nginx-1.26.3`    |
|  删除某个版本  |          `dnf -y module remove --all <module-name>:<stream>` 或者 `dnf -y module remove --all <module-name>:<stream>/<profile>`         | `dnf remove <name>-<version>` |
|  切换到特定版本 | `dnf -y module remove --all <module-name>:<stream> && dnf module reset <module-name> && dnf module enable <module-name>:<new-stream>` | 无需切换                          |

### 桌面环境

在 RL 10 中，Wayland 替代了 X.Org Server。 Xwayland 将支持尚未移植到 Wayland 的大多数 X11 客户端。 在 RL 10 中也替换了一些桌面应用程序和组件。

#### 桌面组件变更

| 已移除                       | 替换为                                                      |
| :------------------------ | :------------------------------------------------------- |
| gedit text editor         | GNOME Text Editor (gnome-text-editor) |
| Tweaks 应用程序               | 在 GNOME 设置中使用 Tweaks 选项和/或在 Flathub 上使用 Flatpak          |
| Festival 语音合成器            | Espeak NG                                                |
| ‌GNOME之眼（eog）图像查看器        | GNOME 图像查看器（Loupe）                                       |
| ‌Cheese 相机程序              | Snapshot 应用程序                                            |
| GNOME 终端                  | ptyxis 终端                                                |
| PulseAudio 守护程序（不包含客户端接口） | ‌Pipewire（自 RL 9 起已设为默认）                                 |

几个图形桌面应用程序不再包含在 Rocky Linux 10 发行版中。 在大多数情况下，您可以从上游源或 Flathub 上的 Flatpack 获取这些应用程序。

#### 已移除的应用程序

| 已移除                       | 替换为                                                                                                                                                   |
| :------------------------ | :---------------------------------------------------------------------------------------------------------------------------------------------------- |
| LibreOffice 办公生产力软件套件     | 在 Flathub 上作为 Flatpak 正式提供，或者您可以从 [https://www.libreoffice.org/](https://www.libreoffice.org/) 下载上游包。 |
| Evolution 个人信息管理器和电子邮件客户端 | Thunderbird 通过 Appstream 存储库提供。 您还可以从上游或 Flathub 上获取 Flatpak 软件包或原生安装包。                                                                               |
| Inkscape 矢量图形编辑器          | RL 10 中没有矢量图形编辑器，但你可以在 Flathub 上找到一个 Flatpak 包。                                                                                                       |
| ‌Totem（GNOME 视频）媒体播放器     | 在 RL 10 中没有默认的桌面媒体播放器。 网页浏览器能播放基于网页的媒体。 用户亦可选择从第三方存储库安装其他媒体播放器，或通过 Flathub 获取 Flatpak。                                                                |

从 RL 10 中移除了 TigerVNC。 要使用 VNC 客户端功能，请使用 Connections 应用程序。 该系统未提供 VNC 服务器端。\
‌GNOME 远程桌面（gnome-remote-desktop）采用 RDP 协议并成为 TigerVNC 的替代方案，其支持桌面共享、远程登录及无头会话。 该功能已集成至 GNOME 桌面环境，你可直接在 "设置" 应用程序中配置它。

Motif X11 桌面环境和工具包也已经从 RL 10 中移除。

### 基础设施服务

在 RL 10 的基础设施服务中，替换或移除了部分服务和软件包，包括以下内容。

| 已移除                          | 替换为                                            |
| :--------------------------- | :--------------------------------------------- |
| power-profiles-daemon CPU 节流 | tuned-ppd 转译层支持为 power-profiles-daemon 编写的应用程序 |
| redis 内存键值数据库                | <u>valkey</u>[^1] 内存键值数据库                      |
| sendmail 邮件传输代理              | Rocky Linux 建议迁移到 Postfix 邮件传输代理。              |
| spamassassin 垃圾邮件过滤器         | spamassassin 垃圾邮件过滤器现在可以在 EPEL 存储库中找到。         |

[^1]: **valkey**：redis 的一个分叉。 1除了 `valkey` 之外，`valkey-compat-redis` 包也在 Plus 存储库中。

### 动态编程语言

几个流行编程语言的最新版本都有更新：

- Python 3.12
- Ruby 3.3
- Node.js 22.13
- Perl 5.40
- PHP 8.3

### Web 服务器和数据库服务器

许多流行的服务器守护程序都更新到了最新版本：

#### Web 服务器

- Apache HTTP Server 2.4.63
- nginx 1.26

#### 代理缓存服务器

- Varnish Cache 7.6
- Squid 6.10

#### 数据库服务器

- MariaDB 10.11
- MySQL 8.4
- PostgreSQL 16.8
- Valkey 8.0

### RL 网页控制台（Cockpit）

Cockpit 是一个基于网页的界面，用于管理和监控您的本地系统。 如果你安装了 `cockpit-files` RPM 包，现在可以在 web 控制台中使用图形文件管理器和文本编辑器。

由于安全原因，原本支持多系统同步管理的主机切换器现已弃用，且默认处于禁用状态。

Cockpit 现在支持配置 Stratis 文件系统的大小限制。

## 已知问题

### 虚拟主机上的 SELinux 问题

当使用启用了 `passt` 后端和内存类型为 `memfd` 的虚拟主机时，如果启用了 SELinux，则接口将无法启动。 有关更多信息，请参阅 [此上游问题](https://issues.redhat.com/browse/RHEL-80407)。

### 安装介质启动后出现灰色屏幕

在特定的硬件配置中，例如启用了 3D 图形的虚拟化环境，您可能会在显示设置向导之前遇到 Anaconda 挂起的情况。 这个问题应该可以通过从 tty6 切换到另一个 tty，然后再切换回 tty6 来解决。 例如，切换到 tty1 并返回到 tty6: ++ctrl+alt+f1++，然后 ++ctrl+alt+f6++。

## 参与进来和报告 bug

请向 [Rocky Linux Bug Tracker](https://bugs.rockylinux.org/) 报告您遇到的任何 Bug 。 我们也欢迎您以任何方式加入我们的社区，不管是在我们的 [Forums](https://forums.rockylinux.org)、 [Mattermost](https://chat.rockylinux.org)、[IRC on Libera.Chat](irc://irc.liberachat/rockylinux)、 [Reddit](https://reddit.com/r/rockylinux)、[Mailing Lists](https://lists.resf.org)，还是其他任何您希望参与的方式！
