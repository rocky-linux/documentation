---
author: Wale Soyinka
contributors: Steven Spencer, Ganna Zhyrnova
tags:
  - kubernetes
  - k8s
  - лабораторна вправа
---

# Лабораторна робота 2: Налаштувати Jumpbox

!!! info

    Це гілка розгалуження від оригінальної ["Kubernetes the hard way"](https://github.com/kelseyhightower/kubernetes-the-hard-way), Келсі Хайтауера (GitHub: kelseyhightower). На відміну від оригіналу, який базується на дистрибутивах, подібних до Debian, для архітектури ARM64, ця гілка націлена на дистрибутиви Enterprise Linux, такі як Rocky Linux, який працює на архітектурі x86_64.

У цій лабораторній роботі ви налаштуєте одну з чотирьох машин як «jumpbox». Ви використовуватимете цю машину для виконання команд у цьому посібнику. Хоча спеціальна машина забезпечує узгодженість, ви можете запускати ці команди з будь-якої машини, включаючи робочу станцію macOS або Linux.

Подумайте про `jumpbox` як про машину адміністрування, яку ви використовуватимете як домашню базу під час налаштування свого кластера Kubernetes з нуля. Одне, що вам потрібно зробити, перш ніж розпочати, — це встановити кілька утиліт командного рядка та клонувати git-сховище Kubernetes The Hard Way, яке містить кілька додаткових конфігураційних файлів, які ви використовуватимете для налаштування різних компонентів Kubernetes у цьому посібнику.

Увійдіть у `jumpbox`:

```bash
ssh root@jumpbox
```

Для зручності ви виконуватимете всі команди від імені `root` користувача, що допоможе зменшити кількість команд, необхідних для налаштування всього.

## Встановіть утиліти командного рядка

Увійшовши на машину `jumpbox` як користувач `root`, ви встановите утиліти командного рядка, які використовуватимете для виконання різноманітних завдань під час навчання:

```bash
sudo dnf -y install wget curl vim openssl git
```

## Синхронізувати репозиторій GitHub

Тепер настав час завантажити копію цього підручника, який містить файли конфігурації та шаблони, які ви використовуватимете для створення свого кластера Kubernetes з нуля. Клонуйте git-сховище Kubernetes The Hard Way за допомогою команди `git`:

```bash
git clone --depth 1 \
  https://github.com/wsoyinka/kubernetes-the-hard-way.git
```

Перейдіть до каталогу `kubernetes-the-hard-way`:

```bash
cd kubernetes-the-hard-way
```

Це буде робочий каталог для решти підручника. Якщо ви заблукаєте, запустіть команду `pwd`, щоб переконатися, що ви перебуваєте у правильному каталозі під час виконання команд у `jumpbox`:

```bash
pwd
```

```text
/root/kubernetes-the-hard-way
```

## Завантажте двійкові файли

Тут ви завантажите двійкові файли для різних компонентів Kubernetes. Зберігайте ці двійкові файли в каталозі `Завантаження` на `jumpbox`. Це зменшить пропускну здатність Інтернету, необхідну для виконання цього посібника, оскільки ви уникнете багаторазового завантаження двійкових файлів для кожної машини в нашому кластері Kubernetes.

Файл `download.txt` містить двійкові файли, які ви завантажуєте, які ви можете переглянути за допомогою команди `cat`:

```bash
cat downloads.txt
```

Завантажте двійкові файли, перелічені у файлі `downloads.txt`, у каталог під назвою `downloads` за допомогою команди `wget`:

```bash
wget -q --show-progress \
  --https-only \
  --timestamping \
  -P downloads \
  -i downloads.txt
```

Залежно від швидкості вашого інтернет-з’єднання завантаження двійкових файлів розміром `584` мегабайти може зайняти деякий час. Після завершення завантаження ви можете перерахувати їх за допомогою команди `ls`:

```bash
ls -loh downloads
```

```text
total 557M
-rw-r--r--. 1 root 51M Jan  6 11:13 cni-plugins-linux-amd64-v1.6.2.tgz
-rw-r--r--. 1 root 36M Feb 28 14:09 containerd-2.0.3-linux-amd64.tar.gz
-rw-r--r--. 1 root 19M Dec  9 04:16 crictl-v1.32.0-linux-amd64.tar.gz
-rw-r--r--. 1 root 17M Feb 25 14:19 etcd-v3.4.36-linux-amd64.tar.gz
-rw-r--r--. 1 root 89M Dec 11 16:12 kube-apiserver
-rw-r--r--. 1 root 82M Dec 11 16:12 kube-controller-manager
-rw-r--r--. 1 root 55M Dec 11 16:12 kubectl
-rw-r--r--. 1 root 74M Dec 11 16:12 kubelet
-rw-r--r--. 1 root 64M Dec 11 16:12 kube-proxy
-rw-r--r--. 1 root 63M Dec 11 16:12 kube-scheduler
-rw-r--r--. 1 root 11M Feb 13 20:19 runc.amd64
```

## Встановіть `kubectl`

У цьому розділі ви встановите `kubectl`, офіційний інструмент командного рядка клієнта Kubernetes, на машині `jumpbox`. Ви будете використовувати `kubectl` для взаємодії з площиною керування Kubernetes після завершення підготовки вашого кластера далі в цьому посібнику.

Використовуйте команду `chmod`, щоб зробити двійковий виконуваний файл `kubectl` і перемістити його до каталогу `/usr/local/bin/`:

```bash
  chmod +x downloads/kubectl
  cp downloads/kubectl /usr/local/bin/
```

Оскільки ваше встановлення `kubectl` завершено, ви можете перевірити це, виконавши команду `kubectl`:

```bash
kubectl version --client
```

```text
Client Version: v1.32.0
Kustomize Version: v5.5.0
```

На цьому етапі ви налаштували `jumpbox` з усіма інструментами командного рядка та утилітами, необхідними для виконання лабораторних робіт у цьому посібнику.

Далі: [Надання обчислювальних ресурсів](lab3-compute-resources.md)
